<section>
  <div class="page-header">
    <h1>Articles</h1>
  </div>
  <article ng-repeat="article in vm.pagedItems">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><a ui-sref="articles.view({ articleId: article._id })">{{article.title}}</a></h3>
      </div>
      <div class="panel-body">
        <div><small>Posted on {{ article.created | date:'mediumDate'}} by <span ng-if="article.user" ng-bind="article.user.displayName"></span><span ng-if="!article.user">Deleted User</span></small></div>
        <div ng-bind-html="article.intro"></div>
        <a ui-sref="articles.view({articleId: article._id})" class="btn btn-default btn-small">read more</a>
      </div>
    </div>
  </article>
  <div class="alert alert-warning text-center" ng-if="vm.articles.$resolved && !vm.articles.length">
    No articles yet, why don't you <a ui-sref="articles.create">create one</a>?
  </div>
  <div class="text-center">
    <uib-pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.filterLength" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></uib-pagination>
  </div>
</section>
